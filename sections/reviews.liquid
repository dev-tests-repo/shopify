{{ 'reviews.css' | asset_url | stylesheet_tag }}
{{ 'review-card.css' | asset_url | stylesheet_tag }}
<script src="{{ 'reviews.js' | asset_url }}" defer="defer"></script>

<div class="reviews container">
  {%- if section.settings.title != blank -%}
    <h2 class="reviews__title">{{- section.settings.title -}}</h2>
  {%- endif -%}

  <div class="reviews__content">
    <div class="reviews__slider swiper">
      <div class="reviews__grid swiper-wrapper">
        {%- for block in section.blocks -%}
          <div class="reviews__slide swiper-slide">
            {%- render 'review-card', review: block.settings -%}
          </div>
        {%- endfor -%}
      </div>

      <div class="reviews__pagination"></div>

      <div class="reviews__button reviews__button--prev">
        {%- render 'icon-arrow-chevron' -%}
      </div>
      <div class="reviews__button reviews__button--next">
        {%- render 'icon-arrow-chevron' -%}
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Reviews",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "info": "(Optional)",
      "default": "Why People Love Us"
    }
  ],
  "blocks": [
    {
      "type": "card",
      "name": "Card",
      "limit": 3,
      "settings": [
        {
          "type": "header",
          "content": "Review"
        },
        {
          "type": "image_picker",
          "id": "photo",
          "label": "Photo"
        },
        {
          "type": "range",
          "id": "rating",
          "min": 1,
          "max": 5,
          "step": 1,
          "label": "Rating",
          "default": 5
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "info": "(Optional)"
        },
        {
          "type": "text",
          "id": "text",
          "label": "Text",
          "info": "(Optional)"
        },
        {
          "type": "text",
          "id": "name",
          "label": "Name",
          "info": "(Optional)"
        },
        {
          "type": "header",
          "content": "Product"
        },
        {
          "type": "image_picker",
          "id": "product_image",
          "label": "Image",
          "info": "(Optional)"
        },
        {
          "type": "text",
          "id": "product_title",
          "label": "Title"
        },
        {
          "type": "url",
          "id": "product_url",
          "label": "URL"
        }
      ]
    }
  ]
}
{% endschema %}
